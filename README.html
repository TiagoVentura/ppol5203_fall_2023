<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>readme</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="README_files/libs/clipboard/clipboard.min.js"></script>
<script src="README_files/libs/quarto-html/quarto.js"></script>
<script src="README_files/libs/quarto-html/popper.min.js"></script>
<script src="README_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="README_files/libs/quarto-html/anchor.min.js"></script>
<link href="README_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="README_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="README_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="README_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="README_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="ppol-5203---data-science-foundations" class="level1">
<h1>PPOL 5203 - Data Science Foundations</h1>
<p>Repository for Georgetown McCourt’s School of Public Policy’s Data Science I (PPOL 5203) in Fall of 2023</p>
<section id="course-description" class="level2">
<h2 class="anchored" data-anchor-id="course-description">Course Description</h2>
<p>This first course in the core data science sequence teaches Data Science for Public Policy (DSPP) students how to synthesize disparate, possibly unstructured data in order to draw meaningful insights. Topics covered include the fundamentals of object-oriented programming in Python; literate programming; an introduction to algorithms and data types; data wrangling, visualization, and extraction; an introduction to machine learning methods, and text analysis. In addition, students will be exposed to Git and Github for version control and reproducible research. The objective of the course is to teach students how incorporate data into their decision-making and analysis. No prior programming experience is assumed or required.</p>
<p>This is not the first time this course is taught at DSPP. For this reason, several of the materials here are borrowed from previous iterations of this PPOL 564 taught by Dr.&nbsp;Rebecca Johnson and Dr.&nbsp;Eric Dunford.</p>
<p><strong>Class Website</strong>: <a href="https://tiagoventura.github.io/ppol5203_fall_2023" class="uri">https://tiagoventura.github.io/ppol5203_fall_2023</a></p>
</section>
<section id="instructors-and-tas" class="level2">
<h2 class="anchored" data-anchor-id="instructors-and-tas">Instructors and TAs</h2>
<section id="instructor" class="level3">
<h3 class="anchored" data-anchor-id="instructor">Instructor</h3>
<ul>
<li>Professor: <a href="https://www.venturatiago.com/">Dr.&nbsp;Tiago Ventura</a></li>
<li>Pronouns: He/Him</li>
<li>Email: <a href="mailto:tv186@georgetown.edu">tv186@georgetown.edu</a></li>
<li>Office hours:
<ul>
<li>Time: Every Thursday, 4pm - 6pm</li>
<li>Location: Old North, 312</li>
</ul></li>
</ul>
</section>
</section>
<section id="teaching-assistant-sierra-sikorski-dspp-second-year-student" class="level2">
<h2 class="anchored" data-anchor-id="teaching-assistant-sierra-sikorski-dspp-second-year-student">Teaching Assistant: Sierra Sikorski (DSPP Second-Year Student)</h2>
<ul>
<li>Email: sps126@georgetown.edu@georgetown.edu</li>
<li>Office Hours:
<ul>
<li>Every Tuesday 2pm (in person, old north)</li>
<li>Every Wednesday 2pm (remote via Zoom)</li>
</ul></li>
</ul>
</section>
<section id="materials" class="level2">
<h2 class="anchored" data-anchor-id="materials">Materials</h2>
<p>All lecture notes can be accessed in the lecture notes folder, as well as the slides on the slides folder. Below I provide links for the materials for each week.</p>
</section>
<section id="week-1-introduction" class="level2">
<h2 class="anchored" data-anchor-id="week-1-introduction">Week 1: Introduction</h2>
<section id="lecture-notes" class="level4">
<h4 class="anchored" data-anchor-id="lecture-notes">Lecture Notes</h4>
<ul>
<li><p><a href="docs/lecture_notes/week-01/course_infrastructure.html">Instructions for setting up the course infra-structure</a>.</p></li>
<li><p>Using Jupyter Notebooks: <a href="/lecture_notes/week-01/_using-jupyter-notebooks.html">html</a>, <a href="/lecture_notes/week-01/_using-jupyter-notebooks.ipynb" download=""> notebook </a></p></li>
<li><p>Using Quarto for Python and R <a href="docs/lecture_notes/week-01/intro-to-quarto.html">html</a>, <a href="/lecture_notes/week-01/intro-to-quarto.qmd" download=""> notebook </a></p></li>
<li><p>Basics of Command Line: <a href="/lecture_notes/week-01/_basics_of_cmd.html">html</a>, <a href="/lecture_notes/week-01/_basics_of_cmd.ipynb" download=""> notebook </a></p></li>
</ul>
</section>
<section id="slides" class="level4">
<h4 class="anchored" data-anchor-id="slides">Slides</h4>
<p><a href="docs/slides/week-1.html">Introduction, Installations, IDEs, Command line</a></p>
</section>
</section>
<section id="week-2-version-control" class="level2">
<h2 class="anchored" data-anchor-id="week-2-version-control">Week 2: Version Control</h2>
<section id="lecture-notes-1" class="level4">
<h4 class="anchored" data-anchor-id="lecture-notes-1">Lecture Notes</h4>
<ul>
<li>Version Control, Workflow and Reproducibility: Or a bit of Git &amp; GitHub: <a href="/lecture_notes/week-02/_version_control_git.html">html</a>, <a href="/lecture_notes/week-02/_version_control_git.ipynb" download=""> notebook </a></li>
</ul>
</section>
<section id="slides-1" class="level4">
<h4 class="anchored" data-anchor-id="slides-1">Slides</h4>
<ul>
<li><a href="docs/slides/week-2.html">Version Control, Workflow and Reproducibility: Or a bit of Git &amp; GitHub</a></li>
</ul>
</section>
</section>
<section id="week-3-intro-to-python---oop-data-types-and-collectors" class="level2">
<h2 class="anchored" data-anchor-id="week-3-intro-to-python---oop-data-types-and-collectors">Week 3: Intro to Python - OOP, Data Types, and Collectors</h2>
<section id="lectures-notes" class="level4">
<h4 class="anchored" data-anchor-id="lectures-notes">Lectures Notes:</h4>
<ul>
<li><p>Intro to Python - OOP, Data Types, and Collectors: <a href="/lecture_notes/week-03/_week-03_data_types.html">html</a>, <a href="/lecture_notes/week-03/_week-03_data_types.ipynb" download=""> Jupyter Notebook </a></p></li>
<li><p>Intro to Python II - Control Statements and Functions: <a href="/lecture_notes/week-03/_week-03_iter_control_functions.html">html</a>, <a href="/lecture_notes/week-03/_week-03_iter_control_functions.ipynb" download=""> Jupyter Notebook </a></p></li>
</ul>
</section>
<section id="slides-2" class="level4">
<h4 class="anchored" data-anchor-id="slides-2">Slides</h4>
<ul>
<li><a href="docs/slides/week-3.html">Week 3 - Intro do Python: OOP, Data Types and Collectors</a></li>
</ul>
</section>
</section>
<section id="week-4-python-ii-control-statements-comprehensions-nested-lists" class="level2">
<h2 class="anchored" data-anchor-id="week-4-python-ii-control-statements-comprehensions-nested-lists">Week 4: Python II: Control Statements, Comprehensions, Nested Lists</h2>
<section id="lectures-notes-1" class="level4">
<h4 class="anchored" data-anchor-id="lectures-notes-1">Lectures Notes:</h4>
<ul>
<li><p>Intro to Python II - Control Statements and Functions: <a href="/lecture_notes/week-03/_week-03_iter_control_functions.html">html</a>, <a href="/lecture_notes/week-03/_week-03_iter_control_functions.ipynb" download=""> Jupyter Notebook </a></p></li>
<li><p>Comprehension and Generators: <a href="/lecture_notes/week-04/_week_4_comprehension_generators.html">html</a> – <a href="/lecture_notes/week-04/_week_4_comprehension_generators.ipynb" download=""> Jupyter Notebook </a></p></li>
<li><p>File Management: <a href="/lecture_notes/week-04/_week_4_file_management.html">html</a> – <a href="/lecture_notes/week-04/_week_4_file_management.ipynb" download=""> Jupyter Notebook </a></p></li>
</ul>
</section>
<section id="datasets" class="level4">
<h4 class="anchored" data-anchor-id="datasets">Datasets</h4>
<p>Download the datasets <a href="/lecture_notes/week-04/data_week4.zip" download=""> here </a></p>
</section>
<section id="slides-3" class="level4">
<h4 class="anchored" data-anchor-id="slides-3">Slides</h4>
<ul>
<li><a href="docs/slides/week-4.html">Control Statements, Comprehensions, Nested Lists, and Numpy</a></li>
</ul>
</section>
</section>
<section id="week-5-numpy-and-intro-do-pandas" class="level2">
<h2 class="anchored" data-anchor-id="week-5-numpy-and-intro-do-pandas">Week 5: Numpy and Intro do Pandas</h2>
<section id="lectures-notes-2" class="level4">
<h4 class="anchored" data-anchor-id="lectures-notes-2">Lectures Notes:</h4>
<ul>
<li><p>Data as Nested lists - <a href="/lecture_notes/week-04/_week_4_nested_lists.html">html</a> – <a href="/lecture_notes/week-04/_week_4_nested_lists.ipynb" download=""> Jupyter Notebook </a></p></li>
<li><p>Numpy: <a href="/lecture_notes/week-04/_week_5_numpy_for_class.html">html</a> – <a href="/lecture_notes/week-05/_week_5_numpy_for_class.ipynb" download=""> Jupyter Notebook </a></p></li>
<li><p>Intro do Pandas: <a href="/lecture_notes/week-05/_week_5a_intro_to_pandas.html">html</a> – <a href="/lecture_notes/week-05/_week_5a_intro_to_pandas.ipynb" download=""> Jupyter Notebook </a></p></li>
</ul>
</section>
<section id="slides-4" class="level4">
<h4 class="anchored" data-anchor-id="slides-4">Slides</h4>
<ul>
<li><a href="docs/slides/week-5.html">Numpy and Intro do Pandas</a></li>
</ul>
</section>
</section>
<section id="week-6-pandas---data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="week-6-pandas---data-wrangling">Week 6: Pandas - Data Wrangling</h2>
<section id="lecture-notes-2" class="level4">
<h4 class="anchored" data-anchor-id="lecture-notes-2">Lecture Notes</h4>
<ul>
<li><p>Pandas - Data Loading and Writing: <a href="/lecture_notes/week-06/_week-6c-data_wrangling_pandas.html">html</a> – <a href="/lecture_notes/week-06/_week-6c-data_wrangling_pandas.ipynb" download=""> Jupyter Notebook </a></p></li>
<li><p>Pandas - data wrangling: <a href="/lecture_notes/week-06/_week-6b-pandas_data_loading.html">html</a> – <a href="/lecture_notes/week-06/_week-6b-pandas_data_loading.ipynb" download=""> Jupyter Notebook </a></p></li>
<li><p>Pandas - Joining Data : <a href="/lecture_notes/week-06/_week-5c-joining_data.html">html</a> – <a href="/lecture_notes/week-06/_week-5c-joining_data.ipynb" download=""> Jupyter Notebook </a></p></li>
<li><p>Pandas Miscellaneous: <a href="/lecture_notes/week-06/_week-6e-miscelanneous.html">html</a> – <a href="/lecture_notes/week-06/_week-6e-miscelanneous.ipynb" download=""> Jupyter Notebook </a></p></li>
</ul>
</section>
<section id="datasets-1" class="level4">
<h4 class="anchored" data-anchor-id="datasets-1">Datasets</h4>
<p>Download the datasets <a href="/lecture_notes/week-06/data_week6.zip" download=""> here </a></p>
</section>
<section id="slides-5" class="level4">
<h4 class="anchored" data-anchor-id="slides-5">Slides</h4>
<ul>
<li><a href="docs/slides/week-6.html">Pandas: Data Wrangling</a></li>
</ul>
</section>
</section>
<section id="week-7-joining-tidying-and-visualizing-data" class="level2">
<h2 class="anchored" data-anchor-id="week-7-joining-tidying-and-visualizing-data">Week 7: Joining, Tidying and Visualizing Data</h2>
<section id="lectures-notes-3" class="level4">
<h4 class="anchored" data-anchor-id="lectures-notes-3">Lectures Notes:</h4>
<ul>
<li><p>Pandas - Joining Data : <a href="/lecture_notes/week-06/_week-5c-joining_data.html">html</a> – <a href="/lecture_notes/week-06/_week-5c-joining_data.ipynb" download=""> Jupyter Notebook </a></p></li>
<li><p>Data Visualization: <a href="/lecture_notes/week-07/_week-6-data-visualization.html">html</a> – <a href="/lecture_notes/week-07/_week-6-data-visualization.ipynb" download=""> Jupyter Notebook </a></p></li>
</ul>
</section>
<section id="datasets-2" class="level4">
<h4 class="anchored" data-anchor-id="datasets-2">Datasets</h4>
<p>Download the datasets <a href="/lecture_notes/week-06/data_week6.zip" download=""> here </a></p>
</section>
<section id="slides-6" class="level4">
<h4 class="anchored" data-anchor-id="slides-6">Slides</h4>
<ul>
<li><a href="docs/slides/week-7.html">Joining, Tidying and Visualizing Data</a></li>
</ul>
</section>
</section>
<section id="week-8-parsing-unstructured-data-scraping-static-websites" class="level2">
<h2 class="anchored" data-anchor-id="week-8-parsing-unstructured-data-scraping-static-websites">Week 8: Parsing Unstructured Data: Scraping Static Websites</h2>
<section id="lectures-notes-4" class="level4">
<h4 class="anchored" data-anchor-id="lectures-notes-4">Lectures Notes:</h4>
<ul>
<li>Parsing Unstructured Data: Scraping Static Websites: <a href="/lecture_notes/week-08/_week-07_scraping_static.html">html</a> – <a href="/lecture_notes/week-08/_week-07_scraping_static.ipynb" download=""> Jupyter Notebook </a></li>
</ul>
</section>
<section id="slides-7" class="level4">
<h4 class="anchored" data-anchor-id="slides-7">Slides</h4>
<ul>
<li><a href="/slides/week-8.html">Parsing Unstructured Data: Scraping Static Websites</a></li>
</ul>
</section>
</section>
<section id="week-9-apis-and-selenium" class="level2">
<h2 class="anchored" data-anchor-id="week-9-apis-and-selenium">Week 9: APIs and Selenium</h2>
<section id="lectures-notes-5" class="level4">
<h4 class="anchored" data-anchor-id="lectures-notes-5">Lectures Notes:</h4>
<ul>
<li><p>APIs <a href="/lecture_notes/week-09/_week-08_apis.html">html</a> – <a href="/lecture_notes/week-09/_week-08_apis.ipynb" download=""> Jupyter Notebook </a></p></li>
<li><p>Selenium <a href="/lecture_notes/week-09/_week-08_selenium.html">html</a> – <a href="/lecture_notes/week-09/_week-08_selenium.ipynb" download=""> Jupyter Notebook </a></p></li>
</ul>
</section>
<section id="slides-8" class="level4">
<h4 class="anchored" data-anchor-id="slides-8">Slides</h4>
<ul>
<li><a href="docs/slides/week-9.html">Acquiring data on the Web: APIs and Selenium</a></li>
</ul>
</section>
</section>
<section id="week-10-intro-to-statistical-learning" class="level2">
<h2 class="anchored" data-anchor-id="week-10-intro-to-statistical-learning">Week 10: Intro to Statistical Learning</h2>
<section id="lecture-notes-3" class="level4">
<h4 class="anchored" data-anchor-id="lecture-notes-3">Lecture Notes</h4>
<ul>
<li>Statistical Learning: inference and predictions <a href="/lecture_notes/week-10/_week-9-models.html">html</a> – <a href="/lecture_notes/week-10/_week-9-models.ipynb" download=""> Jupyter Notebook </a></li>
</ul>
</section>
<section id="slides-9" class="level4">
<h4 class="anchored" data-anchor-id="slides-9">Slides</h4>
<ul>
<li><a href="docs/slides/week-10.html">Statistical Learning: inference and predictions</a></li>
</ul>
</section>
</section>
<section id="week-11-text-analysis-i" class="level2">
<h2 class="anchored" data-anchor-id="week-11-text-analysis-i">Week 11: Text Analysis I</h2>
<section id="lecture-notes-4" class="level4">
<h4 class="anchored" data-anchor-id="lecture-notes-4">Lecture notes</h4>
<ul>
<li>Text analysis I: Counting, Describing and Fitting Topics <a href="/lecture_notes/week-11/_week_11_nlp_I.html">html</a> – <a href="/lecture_notes/week-11/_week_11_nlp_I.ipynb" download=""> Jupyter Notebook </a></li>
</ul>
</section>
<section id="slides-10" class="level4">
<h4 class="anchored" data-anchor-id="slides-10">Slides</h4>
<ul>
<li><a href="docs/slides/week-11.html">Text analysis I</a></li>
</ul>
</section>
</section>
<section id="week-12-text-analysis-ii" class="level2">
<h2 class="anchored" data-anchor-id="week-12-text-analysis-ii">Week 12: Text Analysis II</h2>
<section id="lectures-notes-6" class="level4">
<h4 class="anchored" data-anchor-id="lectures-notes-6">Lectures Notes:</h4>
<ul>
<li>Text analysis II: Unsupervised and Supervised models <a href="/lecture_notes/week-12/_week_12_nlp_II.html">html</a> – <a href="/lecture_notes/week-12/_week_12_nlp_II.ipynb" download=""> Jupyter Notebook </a></li>
</ul>
</section>
<section id="slides-11" class="level4">
<h4 class="anchored" data-anchor-id="slides-11">Slides</h4>
<ul>
<li><a href="docs/slides/week-12.html">Text analysis II</a></li>
</ul>
</section>
</section>
<section id="week-13-sql" class="level2">
<h2 class="anchored" data-anchor-id="week-13-sql">Week 13: SQL</h2>
<section id="lectures-notes-7" class="level4">
<h4 class="anchored" data-anchor-id="lectures-notes-7">Lectures Notes:</h4>
<ul>
<li>SQL <a href="/lecture_notes/week-13/_week_13_sql.html">html</a> – <a href="/lecture_notes/week-13/_week_13_sql.ipynb" download=""> Jupyter Notebook </a></li>
</ul>
</section>
<section id="slides-12" class="level4">
<h4 class="anchored" data-anchor-id="slides-12">Slides</h4>
<ul>
<li><a href="docs/slides/week-13.html">SQL</a></li>
</ul>
</section>
</section>
<section id="week-14-project-presentation" class="level2">
<h2 class="anchored" data-anchor-id="week-14-project-presentation">Week 14: Project Presentation</h2>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>