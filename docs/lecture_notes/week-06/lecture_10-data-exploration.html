<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PPOL 5203 - Data Science I: Foundations - Data Exploration</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Data Exploration</li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../images/logo5.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../problemset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Sets</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Materials</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1: Intro</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2: Version Control</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#dimensions" id="toc-dimensions" class="nav-link active" data-scroll-target="#dimensions">Dimensions</a></li>
  <li><a href="#determine-the-unit-of-observation" id="toc-determine-the-unit-of-observation" class="nav-link" data-scroll-target="#determine-the-unit-of-observation">Determine the unit of observation</a></li>
  <li><a href="#explore-the-data-types" id="toc-explore-the-data-types" class="nav-link" data-scroll-target="#explore-the-data-types">Explore the data types</a></li>
  <li><a href="#coverage" id="toc-coverage" class="nav-link" data-scroll-target="#coverage">Coverage</a></li>
  <li><a href="#missingness" id="toc-missingness" class="nav-link" data-scroll-target="#missingness">Missingness</a></li>
  <li><a href="#features-of-interest" id="toc-features-of-interest" class="nav-link" data-scroll-target="#features-of-interest">Features of Interest</a></li>
  <li><a href="#basics-of-visualization" id="toc-basics-of-visualization" class="nav-link" data-scroll-target="#basics-of-visualization">Basics of Visualization</a>
  <ul class="collapse">
  <li><a href="#what-do-you-see" id="toc-what-do-you-see" class="nav-link" data-scroll-target="#what-do-you-see">What do you see?</a></li>
  <li><a href="#aesthetics" id="toc-aesthetics" class="nav-link" data-scroll-target="#aesthetics">Aesthetics</a></li>
  <li><a href="#using-color" id="toc-using-color" class="nav-link" data-scroll-target="#using-color">Using Color</a></li>
  <li><a href="#presentation-as-distortion" id="toc-presentation-as-distortion" class="nav-link" data-scroll-target="#presentation-as-distortion">Presentation as Distortion</a></li>
  <li><a href="#data-types-drives-visualization-decisions" id="toc-data-types-drives-visualization-decisions" class="nav-link" data-scroll-target="#data-types-drives-visualization-decisions">Data types drives visualization decisions</a></li>
  </ul></li>
  <li><a href="#exploring-univariate-distributions" id="toc-exploring-univariate-distributions" class="nav-link" data-scroll-target="#exploring-univariate-distributions">Exploring Univariate Distributions</a>
  <ul class="collapse">
  <li><a href="#numerical-summaries" id="toc-numerical-summaries" class="nav-link" data-scroll-target="#numerical-summaries">Numerical Summaries</a>
  <ul class="collapse">
  <li><a href="#continuous-variables" id="toc-continuous-variables" class="nav-link" data-scroll-target="#continuous-variables">Continuous Variables</a></li>
  <li><a href="#categorical-discrete-variables" id="toc-categorical-discrete-variables" class="nav-link" data-scroll-target="#categorical-discrete-variables">Categorical (Discrete) Variables</a></li>
  </ul></li>
  <li><a href="#visual-summaries" id="toc-visual-summaries" class="nav-link" data-scroll-target="#visual-summaries">Visual Summaries</a>
  <ul class="collapse">
  <li><a href="#continuous-variables-1" id="toc-continuous-variables-1" class="nav-link" data-scroll-target="#continuous-variables-1">Continuous Variables</a></li>
  <li><a href="#scaling-continuous-variables" id="toc-scaling-continuous-variables" class="nav-link" data-scroll-target="#scaling-continuous-variables">Scaling Continuous Variables</a></li>
  <li><a href="#categorical-discrete-variables-1" id="toc-categorical-discrete-variables-1" class="nav-link" data-scroll-target="#categorical-discrete-variables-1">Categorical (Discrete) Variables</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#exploring-bivariate-distributions" id="toc-exploring-bivariate-distributions" class="nav-link" data-scroll-target="#exploring-bivariate-distributions">Exploring Bivariate Distributions</a>
  <ul class="collapse">
  <li><a href="#numerical-summaries-1" id="toc-numerical-summaries-1" class="nav-link" data-scroll-target="#numerical-summaries-1">Numerical Summaries</a>
  <ul class="collapse">
  <li><a href="#continuous-variables-2" id="toc-continuous-variables-2" class="nav-link" data-scroll-target="#continuous-variables-2">Continuous Variables</a></li>
  <li><a href="#categorical-discrete-variables-2" id="toc-categorical-discrete-variables-2" class="nav-link" data-scroll-target="#categorical-discrete-variables-2">Categorical (Discrete) Variables</a></li>
  <li><a href="#categorical-continuous" id="toc-categorical-continuous" class="nav-link" data-scroll-target="#categorical-continuous">Categorical + Continuous</a></li>
  </ul></li>
  <li><a href="#visual-summaries-1" id="toc-visual-summaries-1" class="nav-link" data-scroll-target="#visual-summaries-1">Visual Summaries</a>
  <ul class="collapse">
  <li><a href="#continuous-variables-3" id="toc-continuous-variables-3" class="nav-link" data-scroll-target="#continuous-variables-3">Continuous Variables</a></li>
  <li><a href="#categorical-discrete-variables-3" id="toc-categorical-discrete-variables-3" class="nav-link" data-scroll-target="#categorical-discrete-variables-3">Categorical (Discrete) Variables</a></li>
  <li><a href="#categorical-discrete-variables-continuous-variables" id="toc-categorical-discrete-variables-continuous-variables" class="nav-link" data-scroll-target="#categorical-discrete-variables-continuous-variables">Categorical (Discrete) Variables + Continuous Variables</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Exploration</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="dimensions" class="level3">
<h3 class="anchored" data-anchor-id="dimensions">Dimensions</h3>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>dat.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>(13855, 12)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dat.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>Index(['country', 'ccode', 'year', 'polity', 'gdppc', 'pop', 'continent',
       'regime_type', 'infant_mort', 'life_exp', 'life_exp_female',
       'life_exp_male'],
      dtype='object')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dat.index</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>RangeIndex(start=0, stop=13855, step=1)</code></pre>
</div>
</div>
</section>
<section id="determine-the-unit-of-observation" class="level3">
<h3 class="anchored" data-anchor-id="determine-the-unit-of-observation">Determine the unit of observation</h3>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>dat.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">ccode</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">polity</th>
<th data-quarto-table-cell-role="th">gdppc</th>
<th data-quarto-table-cell-role="th">pop</th>
<th data-quarto-table-cell-role="th">continent</th>
<th data-quarto-table-cell-role="th">regime_type</th>
<th data-quarto-table-cell-role="th">infant_mort</th>
<th data-quarto-table-cell-role="th">life_exp</th>
<th data-quarto-table-cell-role="th">life_exp_female</th>
<th data-quarto-table-cell-role="th">life_exp_male</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>700</td>
<td>1800.0</td>
<td>-6.0</td>
<td>211.276682</td>
<td>1.564573e+07</td>
<td>Asia</td>
<td>authoritarian</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Afghanistan</td>
<td>700</td>
<td>1801.0</td>
<td>-6.0</td>
<td>211.276682</td>
<td>1.564573e+07</td>
<td>Asia</td>
<td>authoritarian</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Afghanistan</td>
<td>700</td>
<td>1802.0</td>
<td>-6.0</td>
<td>211.276682</td>
<td>1.564573e+07</td>
<td>Asia</td>
<td>authoritarian</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Afghanistan</td>
<td>700</td>
<td>1803.0</td>
<td>-6.0</td>
<td>211.276682</td>
<td>1.564573e+07</td>
<td>Asia</td>
<td>authoritarian</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Afghanistan</td>
<td>700</td>
<td>1804.0</td>
<td>-6.0</td>
<td>211.276682</td>
<td>1.564573e+07</td>
<td>Asia</td>
<td>authoritarian</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="explore-the-data-types" class="level3">
<h3 class="anchored" data-anchor-id="explore-the-data-types">Explore the data types</h3>
<ul>
<li>What are the data types in the data?</li>
<li>Are they correct?</li>
</ul>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>dat.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>country             object
ccode                int64
year               float64
polity             float64
gdppc              float64
pop                float64
continent           object
regime_type         object
infant_mort        float64
life_exp           float64
life_exp_female    float64
life_exp_male      float64
dtype: object</code></pre>
</div>
</div>
<section id="clean" class="level4">
<h4 class="anchored" data-anchor-id="clean">Clean:</h4>
<ul>
<li><code>year</code> to integer type</li>
<li><code>continent</code> to categorical type</li>
<li><code>regime_type</code> to categorical type</li>
</ul>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>dat.year <span class="op">=</span> dat.year.astype(<span class="st">"int"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>dat.country <span class="op">=</span> dat.country.astype(<span class="st">"category"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>dat.continent <span class="op">=</span> dat.continent.astype(<span class="st">"category"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>dat.regime_type <span class="op">=</span> dat.regime_type.astype(<span class="st">"category"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dat.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>country            category
ccode                 int64
year                  int64
polity              float64
gdppc               float64
pop                 float64
continent          category
regime_type        category
infant_mort         float64
life_exp            float64
life_exp_female     float64
life_exp_male       float64
dtype: object</code></pre>
</div>
</div>
<p>Categorical variables are similar to factor variables in <code>R</code></p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>dat.continent.unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>[Asia, Europe, Africa, Americas, Oceania]
Categories (5, object): [Asia, Europe, Africa, Americas, Oceania]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>dat.continent.cat.codes.unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>array([2, 3, 0, 1, 4])</code></pre>
</div>
</div>
</section>
</section>
<section id="coverage" class="level3">
<h3 class="anchored" data-anchor-id="coverage">Coverage</h3>
<p>Depending on the unit of analysis: - what’s the temporal coverage of the data? - what’s the spatial coverage of the data?</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>min_year <span class="op">=</span> dat.year.<span class="bu">min</span>()</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>max_year <span class="op">=</span> dat.year.<span class="bu">max</span>()</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The data ranges from </span><span class="sc">{</span>min_year<span class="sc">}</span><span class="ss"> to </span><span class="sc">{</span>max_year<span class="sc">}</span><span class="ss">."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The data ranges from 1800 to 2016.</code></pre>
</div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>dat.country.unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>[Afghanistan, Albania, Algeria, Angola, Argentina, ..., Uruguay, United States, Venezuela, Zambia, Zimbabwe]
Length: 122
Categories (122, object): [Afghanistan, Albania, Algeria, Angola, ..., United States, Venezuela, Zambia, Zimbabwe]</code></pre>
</div>
</div>
<p><em>There are 122 countries in the data.</em></p>
<p>Are all countries in the data for the same years? A simple way we can explore this is to plot the spatial unit (if fixed and not too large, on the temporal unit.</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>sns.set_context(<span class="st">"notebook"</span>, font_scale<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.relplot(<span class="st">"year"</span>,<span class="st">"country"</span>,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                hue <span class="op">=</span> <span class="st">"continent"</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                kind<span class="op">=</span><span class="st">"scatter"</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>                height<span class="op">=</span><span class="dv">30</span>,s<span class="op">=</span><span class="dv">200</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                data<span class="op">=</span>dat.sort_values(<span class="st">'continent'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-13-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>As we can see there are large inconsistencies in coverage. Only a few countries are in the data for the whole 1800 to 2016 time period. Others drop in and out (potentially given their political status). We need to proceed cautiously when using this data in its raw format.</p>
</section>
<section id="missingness" class="level3">
<h3 class="anchored" data-anchor-id="missingness">Missingness</h3>
<ul>
<li>Is there any missing data?</li>
<li>If so, why is it missing?</li>
<li>Should the missing values be dropped/imputed/left alone?</li>
</ul>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the missing entries</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>dat.isna().<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>country               0
ccode                 0
year                  0
polity                0
gdppc                 0
pop                   0
continent             0
regime_type           0
infant_mort        7638
life_exp           7370
life_exp_female    7370
life_exp_male      7370
dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Proportion of missingness</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>(dat.isna().<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">0</span>)<span class="op">/</span>dat.shape[<span class="dv">0</span>]).<span class="bu">round</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>country            0.00
ccode              0.00
year               0.00
polity             0.00
gdppc              0.00
pop                0.00
continent          0.00
regime_type        0.00
infant_mort        0.55
life_exp           0.53
life_exp_female    0.53
life_exp_male      0.53
dtype: float64</code></pre>
</div>
</div>
<p>Roughly half the data is missing for four of the <code>float</code> indicators in the data.</p>
<ul>
<li>Are these entries missing at random?</li>
<li>Are they missing for certain units of observation?
<ul>
<li>e.g.&nbsp;for specific year ranges or for specific countries?</li>
</ul></li>
<li>What is the best strategy to deal with them?</li>
</ul>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>dat <span class="op">=</span> dat.assign(missing <span class="op">=</span> np.where(dat.life_exp.isna(),<span class="st">"Yes"</span>,<span class="st">"No"</span>))</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>sns.relplot(<span class="st">"year"</span>,<span class="st">"country"</span>,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>            hue<span class="op">=</span><span class="st">'missing'</span>,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>            kind<span class="op">=</span><span class="st">"scatter"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>            height<span class="op">=</span><span class="dv">30</span>,s<span class="op">=</span><span class="dv">200</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>            palette <span class="op">=</span> [<span class="st">"steelblue"</span>,<span class="st">"darkred"</span>],</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>            data<span class="op">=</span>dat.sort_values(<span class="st">'continent'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-16-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>It looks like the life expectancy indicators only cover from 1960 onward. To use these data, we can only consider this time period. Thus, a feasible strategy to deal with the missingness might be to <strong><em>reduce the scope of our analysis to only include 1960 through 2016</em></strong>.</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>dat <span class="op">=</span> dat.query(<span class="st">"year &gt;= 1960"</span>).reset_index()</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>dat.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>(6538, 14)</code></pre>
</div>
</div>
</section>
<section id="features-of-interest" class="level3">
<h3 class="anchored" data-anchor-id="features-of-interest">Features of Interest</h3>
<ul>
<li>Determined by:
<ul>
<li>Research question</li>
<li>Research design</li>
<li>Data availability</li>
</ul></li>
<li><strong>What is the outcome of interest?</strong>
<ul>
<li>Economic Growth (GDP Per Capita)</li>
<li>Population Growth</li>
<li>Standard of Living (Life expectancy and/or infant mortality)</li>
</ul></li>
<li><strong>What is are the key predictors (independent variables/features)?</strong>
<ul>
<li>Theory about the data generating process (DGP)</li>
<li>Features found to be predictive from prior research</li>
<li>Variable selection model to determine feature importance.</li>
</ul></li>
</ul>
</section>
<section id="basics-of-visualization" class="level1">
<h1>Basics of Visualization</h1>
<section id="what-do-you-see" class="level3">
<h3 class="anchored" data-anchor-id="what-do-you-see">What do you see?</h3>
<br>
<div>
<p><img src="http://ericdunford.com/ppol670/Lectures/week_05/lecture-week-05_data-visualization_files/figure-html/unnamed-chunk-1-1.png" width="80%"></p>
</div>
</section>
<section id="aesthetics" class="level3">
<h3 class="anchored" data-anchor-id="aesthetics">Aesthetics</h3>
<div>
<p><img src="http://ericdunford.com/ppol670/Lectures/week_05/Figures/common-aesthetics-1.png" width="50%"></p>
</div>
</section>
<section id="using-color" class="level3">
<h3 class="anchored" data-anchor-id="using-color">Using Color</h3>
###
<center>
Color as a tool to distinguish
</center>
<div>
<p><img src="http://ericdunford.com/ppol670/Lectures/week_05/Figures/breakdown-by-year_25km-1day-window.png" width="60%"></p>
</div>
<p><br></p>
###
<center>
Color as a tool to represent values
</center>
<div>
<p><img src="http://ericdunford.com/ppol670/Lectures/week_05/Figures/violent-events-2016_by-adm-unit_by-dataset.png" width="60%"></p>
</div>
<p><br></p>
###
<center>
Color as a tool to highlight
</center>
<div>
<p><img src="http://ericdunford.com/ppol670/Lectures/week_05/lecture-week-05_data-visualization_files/figure-html/unnamed-chunk-2-1.png" width="60%"></p>
</div>
</section>
<section id="presentation-as-distortion" class="level3">
<h3 class="anchored" data-anchor-id="presentation-as-distortion">Presentation as Distortion</h3>
<br>
<div>
<p><img src="http://ericdunford.com/ppol670/Lectures/week_05/lecture-week-05_data-visualization_files/figure-html/unnamed-chunk-5-1.png" width="60%"></p>
</div>
<p><br></p>
<div>
<p><img src="http://ericdunford.com/ppol670/Lectures/week_05/lecture-week-05_data-visualization_files/figure-html/unnamed-chunk-6-1.png" width="60%"></p>
</div>
</section>
<section id="data-types-drives-visualization-decisions" class="level2">
<h2 class="anchored" data-anchor-id="data-types-drives-visualization-decisions">Data types drives visualization decisions</h2>
<table class="table">
<colgroup>
<col style="width: 36%">
<col style="width: 36%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Data Type</th>
<th style="text-align: center;">Example</th>
<th style="text-align: center;">Scale</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Numerical</td>
<td style="text-align: center;">1.3, 800, 10e3</td>
<td style="text-align: center;">Continuous</td>
</tr>
<tr class="even">
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">1, 2, 3</td>
<td style="text-align: center;">Discrete (when <span class="math inline">\(n\)</span> is small), Continuous (when <span class="math inline">\(n\)</span> is large)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Categorical</td>
<td style="text-align: center;">“dog”, “Nigeria”, “A”</td>
<td style="text-align: center;">Discrete</td>
</tr>
<tr class="even">
<td style="text-align: center;">Ordered</td>
<td style="text-align: center;">“Small”, “Medium”, “Large”</td>
<td style="text-align: center;">Discrete</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Dates/Time</td>
<td style="text-align: center;">2009-01-02, 5:32:33</td>
<td style="text-align: center;">Continuous</td>
</tr>
</tbody>
</table>
<p><br></p>
###
<center>
Discrete Values
</center>
<div>
<p><img src="http://ericdunford.com/ppol670/Lectures/week_05/Figures/amounts-1.png" width="60%"> <img src="http://ericdunford.com/ppol670/Lectures/week_05/Figures/proportions-1.png" width="60%"></p>
</div>
###
<center>
Continuous Values
</center>
<div>
<p><img src="http://ericdunford.com/ppol670/Lectures/week_05/Figures/single-distributions-1.png" width="60%"></p>
</div>
###
<center>
Relationships
</center>
<div>
<p><img src="http://ericdunford.com/ppol670/Lectures/week_05/Figures/basic-scatter-1.png" width="60%"></p>
</div>
</section>
</section>
<section id="exploring-univariate-distributions" class="level1">
<h1>Exploring Univariate Distributions</h1>
<section id="numerical-summaries" class="level2">
<h2 class="anchored" data-anchor-id="numerical-summaries">Numerical Summaries</h2>
<section id="continuous-variables" class="level3">
<h3 class="anchored" data-anchor-id="continuous-variables">Continuous Variables</h3>
<ul>
<li><strong>Five Number Summary:</strong>
<ul>
<li>Minimum Value</li>
<li>First Quartile (25%)</li>
<li>Median (50%)</li>
<li>Third Quartile (75%)</li>
<li>Maximum Value</li>
</ul></li>
<li><strong>Moments of the Distribution:</strong>
<ul>
<li>Mean (central tendency)</li>
<li>Standard Deviation (Spread)</li>
</ul></li>
</ul>
<p>Pandas offers both these summaries jointly with the the <code>.describe()</code> method.</p>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>dat.describe(include<span class="op">=</span><span class="st">"float"</span>).<span class="bu">round</span>(<span class="dv">1</span>).T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">polity</td>
<td>6538.0</td>
<td>1.1</td>
<td>7.4</td>
<td>-10.0</td>
<td>-7.0</td>
<td>2.0</td>
<td>9.0</td>
<td>1.000000e+01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">gdppc</td>
<td>6538.0</td>
<td>5814.4</td>
<td>11299.3</td>
<td>37.5</td>
<td>383.1</td>
<td>1210.6</td>
<td>5147.7</td>
<td>1.030592e+05</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pop</td>
<td>6538.0</td>
<td>38776599.2</td>
<td>133833028.0</td>
<td>220312.0</td>
<td>3723898.8</td>
<td>8930337.0</td>
<td>23616013.7</td>
<td>1.378665e+09</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">infant_mort</td>
<td>6217.0</td>
<td>58.0</td>
<td>48.7</td>
<td>1.6</td>
<td>15.7</td>
<td>45.6</td>
<td>92.5</td>
<td>2.365000e+02</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">life_exp</td>
<td>6485.0</td>
<td>62.7</td>
<td>12.2</td>
<td>18.9</td>
<td>52.9</td>
<td>65.0</td>
<td>72.9</td>
<td>8.400000e+01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">life_exp_female</td>
<td>6485.0</td>
<td>64.9</td>
<td>12.8</td>
<td>22.4</td>
<td>54.4</td>
<td>67.2</td>
<td>75.7</td>
<td>8.710000e+01</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">life_exp_male</td>
<td>6485.0</td>
<td>60.6</td>
<td>11.7</td>
<td>16.3</td>
<td>51.2</td>
<td>62.9</td>
<td>70.2</td>
<td>8.170000e+01</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="categorical-discrete-variables" class="level3">
<h3 class="anchored" data-anchor-id="categorical-discrete-variables">Categorical (Discrete) Variables</h3>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>dat.describe(include<span class="op">=</span><span class="st">"category"</span>).T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">unique</th>
<th data-quarto-table-cell-role="th">top</th>
<th data-quarto-table-cell-role="th">freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">country</td>
<td>6538</td>
<td>122</td>
<td>Jordan</td>
<td>57</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">continent</td>
<td>6538</td>
<td>5</td>
<td>Africa</td>
<td>2441</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">regime_type</td>
<td>6538</td>
<td>3</td>
<td>democracy</td>
<td>2803</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>dat.groupby([<span class="st">'continent'</span>]).size()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>continent
Africa      2441
Americas    1311
Asia        1387
Europe      1285
Oceania      114
dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>dat.groupby([<span class="st">'country'</span>]).size().sort_values(ascending<span class="op">=</span><span class="va">False</span>).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>country
Jordan       57
Indonesia    57
France       57
Gabon        57
Ghana        57
dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>dat.groupby([<span class="st">'regime_type'</span>]).size().sort_values(ascending<span class="op">=</span><span class="va">False</span>).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>regime_type
democracy                    2803
authoritarian                2227
competitive authoritarian    1508
dtype: int64</code></pre>
</div>
</div>
</section>
</section>
<section id="visual-summaries" class="level2">
<h2 class="anchored" data-anchor-id="visual-summaries">Visual Summaries</h2>
<section id="continuous-variables-1" class="level3">
<h3 class="anchored" data-anchor-id="continuous-variables-1">Continuous Variables</h3>
<div class="cell" data-execution_count="93">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rest the basic setup</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>sns.set_context(<span class="st">"notebook"</span>, font_scale<span class="op">=</span><span class="fl">1.5</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up a subplot using matplotlib</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>f, axes <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">10</span>))  <span class="co"># set up the </span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>plt.subplots_adjust(wspace <span class="op">=</span> <span class="fl">0.5</span>,hspace <span class="op">=</span> <span class="fl">0.5</span>) <span class="co"># increase the space between plots</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co"># assign a variable</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>var <span class="op">=</span> dat[<span class="st">"life_exp"</span>].dropna()</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.distplot(var,hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>,ax<span class="op">=</span>axes[<span class="dv">0</span>,<span class="dv">0</span>])</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>g.set_title(<span class="st">"Histogram"</span>)</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.kdeplot(var,shade<span class="op">=</span><span class="va">True</span>,ax<span class="op">=</span>axes[<span class="dv">0</span>,<span class="dv">1</span>],legend<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>g.set_title(<span class="st">"Density Plot"</span>)</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.rugplot(var,ax<span class="op">=</span>axes[<span class="dv">1</span>,<span class="dv">0</span>])</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>g.set_title(<span class="st">"Rug Plot"</span>)</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.distplot(var,hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">True</span>,ax<span class="op">=</span>axes[<span class="dv">1</span>,<span class="dv">1</span>])</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>g.set_title(<span class="st">"Histogram + Density Plot"</span>)</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-23-output-1.png" class="img-fluid"></p>
</div>
</div>
<section id="q-q-plots-quantile-quantile-plots" class="level4">
<h4 class="anchored" data-anchor-id="q-q-plots-quantile-quantile-plots">Q-Q Plots (quantile-quantile plots)</h4>
<p>Compares the empirical distribution to the theoretical distribution. In practice, how normally distributed is our empirical variable.</p>
<div class="cell" data-execution_count="142">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># With a tehoretically perfectly distributed variable</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">8</span>))</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.random.normal(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">500</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>_ <span class="op">=</span> stats.probplot(x, dist<span class="op">=</span><span class="st">"norm"</span>,plot<span class="op">=</span>plt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-24-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="143">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># With our actual life expectancy variable </span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">8</span>))</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>_ <span class="op">=</span> stats.probplot(var, dist<span class="op">=</span><span class="st">"norm"</span>,plot<span class="op">=</span>plt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-25-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="histograms" class="level4">
<h4 class="anchored" data-anchor-id="histograms">Histograms</h4>
<div class="cell" data-execution_count="423">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">3</span>))</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.distplot(dat[<span class="st">"life_exp"</span>].dropna(),</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>                 color<span class="op">=</span><span class="st">"steelblue"</span>,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>                 hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-26-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>For Histograms, bin size can yield a disparate pictures of a variable.</p>
<div class="cell" data-execution_count="424">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">3</span>))</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.distplot(dat[<span class="st">"life_exp"</span>].dropna(),</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>                 color<span class="op">=</span><span class="st">"steelblue"</span>,</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>                 bins<span class="op">=</span><span class="dv">5</span>,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>                 hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-27-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="425">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">3</span>))</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.distplot(dat[<span class="st">"life_exp"</span>].dropna(),</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>                 color<span class="op">=</span><span class="st">"steelblue"</span>,</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>                 bins<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>                 hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-28-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Using a combination of the matplotlib and seaborn libraries, we can easily generate subgraphs to plot many variables simultaneously.</p>
<div class="cell" data-execution_count="426">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>f, axes <span class="op">=</span> plt.subplots(<span class="dv">4</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">15</span>))</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>plt.subplots_adjust(wspace <span class="op">=</span> <span class="fl">0.5</span>,hspace <span class="op">=</span> <span class="fl">0.5</span>) </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>sns.distplot(dat[<span class="st">"gdppc"</span>],</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span><span class="st">"steelblue"</span>,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>             hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>,ax<span class="op">=</span>axes[<span class="dv">0</span>,<span class="dv">0</span>])</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>sns.distplot(dat[<span class="st">"pop"</span>],</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span><span class="st">"forestgreen"</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>             hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>,ax<span class="op">=</span>axes[<span class="dv">0</span>,<span class="dv">1</span>])</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>sns.distplot(dat[<span class="st">"infant_mort"</span>].dropna(),</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span><span class="st">"darkred"</span>,</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>             hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>,ax<span class="op">=</span>axes[<span class="dv">1</span>,<span class="dv">0</span>])</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>sns.distplot(dat[<span class="st">"life_exp"</span>].dropna(),</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span><span class="st">"orange"</span>,</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>             hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>,ax<span class="op">=</span>axes[<span class="dv">1</span>,<span class="dv">1</span>])</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>sns.distplot(dat[<span class="st">"life_exp_female"</span>].dropna(),</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span><span class="st">"pink"</span>,</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>             hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>,ax<span class="op">=</span>axes[<span class="dv">2</span>,<span class="dv">0</span>])</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>sns.distplot(dat[<span class="st">"life_exp_male"</span>].dropna(),</span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span><span class="st">"lightblue"</span>,</span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a>             hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>,ax<span class="op">=</span>axes[<span class="dv">2</span>,<span class="dv">1</span>])</span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a>sns.distplot(dat[<span class="st">"polity"</span>].dropna(),</span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span><span class="st">"black"</span>,</span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>             hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>,ax<span class="op">=</span>axes[<span class="dv">3</span>,<span class="dv">0</span>])</span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-29-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="scaling-continuous-variables" class="level3">
<h3 class="anchored" data-anchor-id="scaling-continuous-variables">Scaling Continuous Variables</h3>
<p>One thing that should instantly stand out is that the <strong><em>scales</em></strong> differ widely.</p>
<div class="cell" data-execution_count="144">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Looking at the QQ plot, we can see the variable is way off from being normally distributed. </span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">8</span>))  </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>d, x <span class="op">=</span> stats.probplot(dat[<span class="st">"gdppc"</span>], dist<span class="op">=</span><span class="st">"norm"</span>,plot<span class="op">=</span>plt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-30-output-1.png" class="img-fluid"></p>
</div>
</div>
<section id="log-transformation" class="level4">
<h4 class="anchored" data-anchor-id="log-transformation">Log transformation</h4>
<p>We can adjust the right skewed data with large tail values by taking the <strong><em>natural log</em></strong> of the variable.</p>
<div class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Demonstrate what a log transformation does.</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>,<span class="fl">10e8</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.log(x)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">3</span>))</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.lineplot(x,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-31-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">3</span>))</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.log(dat[<span class="st">"gdppc"</span>])</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.distplot(x,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>                 color<span class="op">=</span><span class="st">"steelblue"</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>                 hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-32-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># From the QQ plot, we can see the variable appears more normally distributed once transformed. </span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">8</span>))  </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>d, x <span class="op">=</span> stats.probplot(np.log(dat[<span class="st">"gdppc"</span>]), dist<span class="op">=</span><span class="st">"norm"</span>,plot<span class="op">=</span>plt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-33-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Let’s create two new variables that takes the natural log of GDP per capita and Population.</p>
<div class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>dat[<span class="st">'lngdppc'</span>] <span class="op">=</span> np.log(dat[<span class="st">'gdppc'</span>]) </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>dat[<span class="st">'lnpop'</span>] <span class="op">=</span> np.log(dat[<span class="st">'pop'</span>])</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>dat.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="167">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">index</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">ccode</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">polity</th>
<th data-quarto-table-cell-role="th">gdppc</th>
<th data-quarto-table-cell-role="th">pop</th>
<th data-quarto-table-cell-role="th">continent</th>
<th data-quarto-table-cell-role="th">regime_type</th>
<th data-quarto-table-cell-role="th">infant_mort</th>
<th data-quarto-table-cell-role="th">life_exp</th>
<th data-quarto-table-cell-role="th">life_exp_female</th>
<th data-quarto-table-cell-role="th">life_exp_male</th>
<th data-quarto-table-cell-role="th">missing</th>
<th data-quarto-table-cell-role="th">lngdppc</th>
<th data-quarto-table-cell-role="th">lnpop</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>160</td>
<td>Afghanistan</td>
<td>700</td>
<td>1960</td>
<td>-10.0</td>
<td>59.777327</td>
<td>8996351.0</td>
<td>Asia</td>
<td>authoritarian</td>
<td>NaN</td>
<td>32.446</td>
<td>33.314</td>
<td>31.718</td>
<td>No</td>
<td>4.090626</td>
<td>16.012330</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>161</td>
<td>Afghanistan</td>
<td>700</td>
<td>1961</td>
<td>-10.0</td>
<td>59.878153</td>
<td>9166764.0</td>
<td>Asia</td>
<td>authoritarian</td>
<td>236.5</td>
<td>32.962</td>
<td>33.840</td>
<td>32.224</td>
<td>No</td>
<td>4.092312</td>
<td>16.031095</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>162</td>
<td>Afghanistan</td>
<td>700</td>
<td>1962</td>
<td>-10.0</td>
<td>58.492874</td>
<td>9345868.0</td>
<td>Asia</td>
<td>authoritarian</td>
<td>232.6</td>
<td>33.471</td>
<td>34.359</td>
<td>32.724</td>
<td>No</td>
<td>4.068905</td>
<td>16.050445</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="standardizing" class="level4">
<h4 class="anchored" data-anchor-id="standardizing">Standardizing</h4>
<p>Standardizes the distribution of the variable by setting the mean to 0 and the variance to 1. This transformation retains the original form of the empirical distribution.</p>
<div class="cell" data-execution_count="173">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> standardize(x): </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (x <span class="op">-</span> x.mean())<span class="op">/</span>x.std()</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Sim Numbers</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>,<span class="fl">10e8</span>)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> standardize(x)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">4</span>))</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="173">
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f9541239cc0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-35-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">4</span>))</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> standardize(dat[<span class="st">"gdppc"</span>])</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.distplot(x,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                 color<span class="op">=</span><span class="st">"steelblue"</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>                 hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-36-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="scale-by-empirical-range" class="level4">
<h4 class="anchored" data-anchor-id="scale-by-empirical-range">Scale by Empirical Range</h4>
<p>Scales values so that they exist between 0 and 1, where 0 corresponds with the minimum value, and 1 corresponds with the maximum value. This transformation retains the original form of the empirical distribution.</p>
<div class="cell" data-execution_count="172">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> range_scale(x): </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (x <span class="op">-</span> x.<span class="bu">min</span>())<span class="op">/</span>(x.<span class="bu">max</span>()<span class="op">-</span>x.<span class="bu">min</span>())</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sim Numbers</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>,<span class="fl">10e8</span>)</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> range_scale(x)</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">4</span>))</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x,y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="172">
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f9581011c18&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-37-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">4</span>))</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> range_scale(dat[<span class="st">"gdppc"</span>])</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.distplot(x,</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>                 color<span class="op">=</span><span class="st">"steelblue"</span>,</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>                 hist<span class="op">=</span><span class="va">True</span>,kde<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-38-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="categorical-discrete-variables-1" class="level3">
<h3 class="anchored" data-anchor-id="categorical-discrete-variables-1">Categorical (Discrete) Variables</h3>
<div class="cell" data-execution_count="152">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.countplot(y<span class="op">=</span><span class="st">"regime_type"</span>, data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-39-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="133">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">8</span>))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.countplot(x<span class="op">=</span><span class="st">"continent"</span>,hue<span class="op">=</span><span class="st">"regime_type"</span>, data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-40-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
</section>
<section id="exploring-bivariate-distributions" class="level1">
<h1>Exploring Bivariate Distributions</h1>
<section id="numerical-summaries-1" class="level2">
<h2 class="anchored" data-anchor-id="numerical-summaries-1">Numerical Summaries</h2>
<section id="continuous-variables-2" class="level3">
<h3 class="anchored" data-anchor-id="continuous-variables-2">Continuous Variables</h3>
<section id="correlation" class="level4">
<h4 class="anchored" data-anchor-id="correlation">Correlation</h4>
<p>Explore the linear relationship between two (or more) variables.</p>
<p><span class="math display">\[r_{xy} = \frac{\sum^i_N  (x_i - \bar{x}) (y_i - \bar{y}) }{ \sqrt{\sum^i_N  (x_i - \bar{x})^2 (y_i - \bar{y})^2  } }\]</span></p>
<div class="cell" data-execution_count="168">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>dat[<span class="st">'life_exp'</span>].corr(dat[<span class="st">'lngdppc'</span>]).<span class="bu">round</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="168">
<pre><code>0.83</code></pre>
</div>
</div>
</section>
<section id="correlation-matrix" class="level4">
<h4 class="anchored" data-anchor-id="correlation-matrix">Correlation Matrix</h4>
<div class="cell" data-execution_count="170">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Expand out to a correlation matrx</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>dat.loc[:,<span class="st">"polity"</span>:<span class="st">"lnpop"</span>].corr().<span class="bu">round</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="170">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">polity</th>
<th data-quarto-table-cell-role="th">gdppc</th>
<th data-quarto-table-cell-role="th">pop</th>
<th data-quarto-table-cell-role="th">infant_mort</th>
<th data-quarto-table-cell-role="th">life_exp</th>
<th data-quarto-table-cell-role="th">life_exp_female</th>
<th data-quarto-table-cell-role="th">life_exp_male</th>
<th data-quarto-table-cell-role="th">lngdppc</th>
<th data-quarto-table-cell-role="th">lnpop</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">polity</td>
<td>1.00</td>
<td>0.36</td>
<td>0.03</td>
<td>-0.55</td>
<td>0.53</td>
<td>0.55</td>
<td>0.52</td>
<td>0.46</td>
<td>0.18</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">gdppc</td>
<td>0.36</td>
<td>1.00</td>
<td>-0.01</td>
<td>-0.48</td>
<td>0.55</td>
<td>0.54</td>
<td>0.56</td>
<td>0.75</td>
<td>0.08</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pop</td>
<td>0.03</td>
<td>-0.01</td>
<td>1.00</td>
<td>-0.04</td>
<td>0.07</td>
<td>0.06</td>
<td>0.08</td>
<td>-0.03</td>
<td>0.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">infant_mort</td>
<td>-0.55</td>
<td>-0.48</td>
<td>-0.04</td>
<td>1.00</td>
<td>-0.94</td>
<td>-0.95</td>
<td>-0.93</td>
<td>-0.80</td>
<td>-0.16</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">life_exp</td>
<td>0.53</td>
<td>0.55</td>
<td>0.07</td>
<td>-0.94</td>
<td>1.00</td>
<td>1.00</td>
<td>1.00</td>
<td>0.83</td>
<td>0.21</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">life_exp_female</td>
<td>0.55</td>
<td>0.54</td>
<td>0.06</td>
<td>-0.95</td>
<td>1.00</td>
<td>1.00</td>
<td>0.99</td>
<td>0.83</td>
<td>0.21</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">life_exp_male</td>
<td>0.52</td>
<td>0.56</td>
<td>0.08</td>
<td>-0.93</td>
<td>1.00</td>
<td>0.99</td>
<td>1.00</td>
<td>0.83</td>
<td>0.21</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">lngdppc</td>
<td>0.46</td>
<td>0.75</td>
<td>-0.03</td>
<td>-0.80</td>
<td>0.83</td>
<td>0.83</td>
<td>0.83</td>
<td>1.00</td>
<td>0.09</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">lnpop</td>
<td>0.18</td>
<td>0.08</td>
<td>0.58</td>
<td>-0.16</td>
<td>0.21</td>
<td>0.21</td>
<td>0.21</td>
<td>0.09</td>
<td>1.00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="categorical-discrete-variables-2" class="level3">
<h3 class="anchored" data-anchor-id="categorical-discrete-variables-2">Categorical (Discrete) Variables</h3>
<p><strong>Crosstabs</strong></p>
<div class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>pd.crosstab(dat.regime_type,dat.continent,margins<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">continent</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Americas</th>
<th data-quarto-table-cell-role="th">Asia</th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Oceania</th>
<th data-quarto-table-cell-role="th">All</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">regime_type</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">authoritarian</td>
<td>1163</td>
<td>249</td>
<td>633</td>
<td>182</td>
<td>0</td>
<td>2227</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">competitive authoritarian</td>
<td>808</td>
<td>261</td>
<td>377</td>
<td>62</td>
<td>0</td>
<td>1508</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">democracy</td>
<td>470</td>
<td>801</td>
<td>377</td>
<td>1041</td>
<td>114</td>
<td>2803</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">All</td>
<td>2441</td>
<td>1311</td>
<td>1387</td>
<td>1285</td>
<td>114</td>
<td>6538</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Cross tabs represented as <strong><em>proportions</em></strong></p>
<div class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># By Rows</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>pd.crosstab(dat.regime_type,dat.continent).<span class="bu">apply</span>(<span class="kw">lambda</span> x: x<span class="op">/</span>x.<span class="bu">sum</span>(), axis<span class="op">=</span><span class="dv">1</span>).<span class="bu">round</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">continent</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Americas</th>
<th data-quarto-table-cell-role="th">Asia</th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Oceania</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">regime_type</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">authoritarian</td>
<td>0.522</td>
<td>0.112</td>
<td>0.284</td>
<td>0.082</td>
<td>0.000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">competitive authoritarian</td>
<td>0.536</td>
<td>0.173</td>
<td>0.250</td>
<td>0.041</td>
<td>0.000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">democracy</td>
<td>0.168</td>
<td>0.286</td>
<td>0.134</td>
<td>0.371</td>
<td>0.041</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># By Columns</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>pd.crosstab(dat.regime_type,dat.continent).<span class="bu">apply</span>(<span class="kw">lambda</span> x: x<span class="op">/</span>x.<span class="bu">sum</span>(), axis<span class="op">=</span><span class="dv">0</span>).<span class="bu">round</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">continent</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Americas</th>
<th data-quarto-table-cell-role="th">Asia</th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Oceania</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">regime_type</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">authoritarian</td>
<td>0.476</td>
<td>0.190</td>
<td>0.456</td>
<td>0.142</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">competitive authoritarian</td>
<td>0.331</td>
<td>0.199</td>
<td>0.272</td>
<td>0.048</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">democracy</td>
<td>0.193</td>
<td>0.611</td>
<td>0.272</td>
<td>0.810</td>
<td>1.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="categorical-continuous" class="level3">
<h3 class="anchored" data-anchor-id="categorical-continuous">Categorical + Continuous</h3>
<div class="cell" data-execution_count="180">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>dat.groupby([<span class="st">'continent'</span>])[<span class="st">'gdppc'</span>].mean().sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="180">
<pre><code>continent
Oceania     17352.233249
Europe      16050.537032
Asia         5116.408798
Americas     4281.519876
Africa       1106.908969
Name: gdppc, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="188">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>dat.groupby([<span class="st">'country'</span>])[<span class="st">'lnpop'</span>].mean().sort_values(ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">5</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="188">
<pre><code>country
China            20.77
India            20.51
United States    19.32
Indonesia        18.92
Brazil           18.73
Name: lnpop, dtype: float64</code></pre>
</div>
</div>
</section>
</section>
<section id="visual-summaries-1" class="level2">
<h2 class="anchored" data-anchor-id="visual-summaries-1">Visual Summaries</h2>
<section id="continuous-variables-3" class="level3">
<h3 class="anchored" data-anchor-id="continuous-variables-3">Continuous Variables</h3>
<p><strong>scatter plot</strong></p>
<div class="cell" data-execution_count="254">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">"lngdppc"</span>,y<span class="op">=</span><span class="st">"infant_mort"</span>,alpha<span class="op">=</span><span class="fl">.6</span>,data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="254">
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f9520cbf1d0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-48-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="227">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">7</span>))</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize data </span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> (dat</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>     .groupby([<span class="st">'country'</span>])</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>     .mean()</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>     .reset_index())</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="co"># plot relationship</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.scatterplot(x<span class="op">=</span><span class="st">"lngdppc"</span>,</span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>                    y<span class="op">=</span><span class="st">"infant_mort"</span>,</span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>                    size<span class="op">=</span><span class="st">'lnpop'</span>,</span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>                    hue <span class="op">=</span> <span class="st">'lnpop'</span>,</span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>                    sizes<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">300</span>),</span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>                    data<span class="op">=</span>d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-49-output-1.png" class="img-fluid"></p>
</div>
</div>
<p><strong>Line plot</strong></p>
<div class="cell" data-execution_count="198">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">3</span>))</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>sns.lineplot(x<span class="op">=</span><span class="st">"year"</span>,y<span class="op">=</span><span class="st">"polity"</span>,data<span class="op">=</span>dat.query(<span class="st">"country == 'Nigeria'"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="198">
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f94d0181160&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-50-output-2.png" class="img-fluid"></p>
</div>
</div>
<section id="univariate-and-bivariate-together" class="level4">
<h4 class="anchored" data-anchor-id="univariate-and-bivariate-together">Univariate and Bivariate Together</h4>
<div class="cell" data-execution_count="250">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>sns.jointplot(x<span class="op">=</span><span class="st">"lngdppc"</span>,y<span class="op">=</span><span class="st">"infant_mort"</span>,data<span class="op">=</span>dat,</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>              height<span class="op">=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-51-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="fitting-the-relationship" class="level4">
<h4 class="anchored" data-anchor-id="fitting-the-relationship">Fitting the relationship</h4>
<div class="cell" data-execution_count="257">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression line </span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.regplot(x<span class="op">=</span><span class="st">"lngdppc"</span>,y<span class="op">=</span><span class="st">"infant_mort"</span>,</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>                scatter_kws<span class="op">=</span>{<span class="st">'alpha'</span>:<span class="fl">0.1</span>},</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>                data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-52-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="267">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Higher order regression line: x + x^2</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.regplot(x<span class="op">=</span><span class="st">"lngdppc"</span>,y<span class="op">=</span><span class="st">"infant_mort"</span>,</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>                scatter_kws<span class="op">=</span>{<span class="st">'alpha'</span>:<span class="fl">0.05</span>},</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>                order<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>                data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-53-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="265">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lowess (locally weighted linear) regression</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.regplot(x<span class="op">=</span><span class="st">"lngdppc"</span>,y<span class="op">=</span><span class="st">"infant_mort"</span>,</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>                scatter_kws<span class="op">=</span>{<span class="st">'alpha'</span>:<span class="fl">0.05</span>},</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>                lowess<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>                data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-54-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="358">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression by Grouping </span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.lmplot(x<span class="op">=</span><span class="st">"lngdppc"</span>,y<span class="op">=</span><span class="st">"infant_mort"</span>,</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>                hue<span class="op">=</span><span class="st">"continent"</span>,</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>                scatter_kws<span class="op">=</span>{<span class="st">'alpha'</span>:<span class="fl">0.1</span>},</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>                height<span class="op">=</span><span class="dv">10</span>,</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>                data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 1080x360 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-55-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="heatmaps" class="level4">
<h4 class="anchored" data-anchor-id="heatmaps">Heatmaps</h4>
<div class="cell" data-execution_count="282">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a correlation matrix </span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>corr_mat <span class="op">=</span> dat.loc[:,[<span class="st">"polity"</span>,<span class="st">"infant_mort"</span>,<span class="st">"life_exp"</span>,<span class="st">"lngdppc"</span>,<span class="st">"lnpop"</span>] ].corr()</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a heatmap</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>sns.heatmap(corr_mat,</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>            center<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>            linewidths<span class="op">=</span><span class="fl">.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="282">
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f9532854358&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-56-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="pair-plots" class="level4">
<h4 class="anchored" data-anchor-id="pair-plots">Pair Plots</h4>
<div class="cell" data-execution_count="351">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> dat[[<span class="st">'lngdppc'</span>,<span class="st">'lnpop'</span>,<span class="st">'polity'</span>,<span class="st">"life_exp"</span>]].dropna()</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.PairGrid(d,height<span class="op">=</span><span class="dv">7</span>)</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> g.map_diag(plt.hist)</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> g.map_offdiag(plt.scatter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-57-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="categorical-discrete-variables-3" class="level3">
<h3 class="anchored" data-anchor-id="categorical-discrete-variables-3">Categorical (Discrete) Variables</h3>
<div class="cell" data-execution_count="336">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> dat.groupby([<span class="st">'continent'</span>,<span class="st">'regime_type'</span>]).size().reset_index().rename(columns<span class="op">=</span>{<span class="dv">0</span>:<span class="st">''</span>})</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> d.pivot_table(columns<span class="op">=</span><span class="st">"continent"</span>,index<span class="op">=</span><span class="st">'regime_type'</span>)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>sns.heatmap(d,linewidths<span class="op">=</span><span class="fl">.5</span>,cmap<span class="op">=</span><span class="st">"YlGnBu"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="336">
<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f95717ed9b0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-58-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="categorical-discrete-variables-continuous-variables" class="level3">
<h3 class="anchored" data-anchor-id="categorical-discrete-variables-continuous-variables">Categorical (Discrete) Variables + Continuous Variables</h3>
<div class="cell" data-execution_count="321">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.catplot(y<span class="op">=</span><span class="st">"regime_type"</span>, x<span class="op">=</span><span class="st">"lngdppc"</span>,</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>                kind<span class="op">=</span><span class="st">"violin"</span>,</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>                height<span class="op">=</span><span class="dv">10</span>,aspect<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>                data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-59-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="320">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.catplot(y<span class="op">=</span><span class="st">"regime_type"</span>, x<span class="op">=</span><span class="st">"lngdppc"</span>, </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>                kind<span class="op">=</span><span class="st">"box"</span>,</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>                height<span class="op">=</span><span class="dv">10</span>,aspect<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>                data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-60-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="322">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.catplot(y<span class="op">=</span><span class="st">"regime_type"</span>, x<span class="op">=</span><span class="st">"lngdppc"</span>, </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>                height<span class="op">=</span><span class="dv">10</span>,aspect<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>                data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-61-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="323">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.catplot(y<span class="op">=</span><span class="st">"regime_type"</span>, x<span class="op">=</span><span class="st">"lngdppc"</span>,</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>                kind<span class="op">=</span><span class="st">"bar"</span>,</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>                height<span class="op">=</span><span class="dv">10</span>,aspect<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>                data<span class="op">=</span>dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lecture_10-data-exploration_files/figure-html/cell-62-output-1.png" class="img-fluid"></p>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>